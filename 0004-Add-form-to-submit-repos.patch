From 39e77b84f26c697f604f22147053289d822d7b2c Mon Sep 17 00:00:00 2001
From: Amitt Dosanjh <amitt.dosanjh@gmail.com>
Date: Tue, 9 Aug 2022 23:01:36 -0500
Subject: [PATCH 4/6] Add form to submit repos

---
 client/.gitignore                     |  1 +
 client/package.json                   |  4 ++-
 client/src/App.tsx                    |  2 ++
 client/src/components/AddRepoForm.tsx | 41 +++++++++++++++++++++++++++
 4 files changed, 47 insertions(+), 1 deletion(-)
 create mode 100644 client/src/components/AddRepoForm.tsx

diff --git a/client/.gitignore b/client/.gitignore
index 1baf84e..e54f182 100644
--- a/client/.gitignore
+++ b/client/.gitignore
@@ -4,6 +4,7 @@ dist/*
 !dist/index.html
 node_modules/
 *.log
+package-lock.json
 
 # OS generated files
 .DS_Store
diff --git a/client/package.json b/client/package.json
index 79ca680..36c0985 100644
--- a/client/package.json
+++ b/client/package.json
@@ -20,8 +20,10 @@
   },
   "homepage": "https://github.com/DedotadedWam/cognito-mode#readme",
   "dependencies": {
+    "axios": "^0.27.2",
     "react": "^18.2.0",
-    "react-dom": "^18.2.0"
+    "react-dom": "^18.2.0",
+    "react-hook-form": "^7.34.0"
   },
   "devDependencies": {
     "@babel/core": "^7.18.10",
diff --git a/client/src/App.tsx b/client/src/App.tsx
index a317d51..c1f14bf 100644
--- a/client/src/App.tsx
+++ b/client/src/App.tsx
@@ -1,5 +1,6 @@
 import * as React from "react";
 import { FC, useState } from "react";
+import AddRepoForm from "./components/AddRepoForm";
 
 const App: FC = () => {
   const [pageView, setPageView] = useState("Home");
@@ -7,6 +8,7 @@ const App: FC = () => {
   return (
     <>
       <h1>Hello World</h1>
+      <AddRepoForm />
     </>
   );
 };
diff --git a/client/src/components/AddRepoForm.tsx b/client/src/components/AddRepoForm.tsx
new file mode 100644
index 0000000..89943a0
--- /dev/null
+++ b/client/src/components/AddRepoForm.tsx
@@ -0,0 +1,41 @@
+import axios from "axios";
+import * as React from "react";
+import { FC } from "react";
+import { useForm } from "react-hook-form";
+
+interface FormInputInterface {
+  username: string;
+  repo: string;
+  type: string;
+}
+
+const AddRepoForm: FC = () => {
+  const { register, handleSubmit } = useForm<FormInputInterface>();
+  const onSubmit = (data: FormInputInterface): void => {
+    console.log(data);
+    axios
+      .post("/repo/add", data)
+      .then((response) => console.log(response))
+      .catch((err) => console.log(err));
+  };
+
+  return (
+    <form onSubmit={handleSubmit(onSubmit)}>
+      <label>
+        Username:
+        <input defaultValue="DedotadedWam" {...register("username")} />
+      </label>
+      <label>
+        Repository Name:
+        <input {...register("repo")} />
+      </label>
+      <label>
+        Project Type:
+        <input {...register("type")} />
+      </label>
+      <button type="submit">Submit</button>
+    </form>
+  );
+};
+
+export default AddRepoForm;
-- 
2.34.1

